<packages>
<!-- TODO: There are three directory should be considered 
	/usr/share/X11/app-defaults
	/usr/share/X11/fonts
	/usr/share/X11/locale
<package>
<files>libX11-1.3.1-1mgc25.i686.rpm</files>
<install>
usr/lib/libX11.so.*
usr/lib/X11/XErrorDB
usr/lib/X11/XKeysymDB
usr/lib/X11/locale/compose.dir
usr/lib/X11/locale/locale.alias
usr/lib/X11/locale/locale.dir
@usr/lib/X11/locale/C
@usr/lib/X11/locale/en_US.UTF-8
@usr/lib/X11/locale/iso8859-1
@usr/lib/X11/locale/zh_CN.gb18030
@usr/lib/X11/locale/zh_CN
</install>
</package>

<package>
<files>xorg-x11-fonts-misc-7.4-1mgc25.noarch.rpm</files>
<install>
# for mgc30_64 /usr/share/X11/fonts/75dpi/*.pcf.gz
# but we use wqy only now.
usr/lib/X11/fonts/misc/8x16.pcf.gz
</install>
</package>
-->

<package>
<install>
# fontconfig
# TODO: remove these font util to minimize rootfs.
/usr/bin/fc-cache
/usr/bin/mkfontdir
/usr/bin/mkfontscale
#/usr/bin/fc-cat
#/usr/bin/fc-list
#/usr/bin/fc-match
#/usr/bin/fc-pattern
#/usr/bin/fc-query
#/usr/bin/fc-scan
#/usr/bin/fc-validate

/etc/fonts/conf.d/10-scale-bitmap-fonts.conf
/etc/fonts/conf.d/20-unhint-small-vera.conf
/etc/fonts/conf.d/25-no-bitmap-fedora.conf
/etc/fonts/conf.d/25-unhint-nonlatin.conf
/etc/fonts/conf.d/30-metric-aliases.conf
/etc/fonts/conf.d/30-urw-aliases.conf
/etc/fonts/conf.d/40-nonlatin.conf
/etc/fonts/conf.d/45-latin.conf
/etc/fonts/conf.d/49-sansserif.conf
/etc/fonts/conf.d/50-user.conf
/etc/fonts/conf.d/51-local.conf
/etc/fonts/conf.d/60-latin.conf
/etc/fonts/conf.d/65-fonts-persian.conf
/etc/fonts/conf.d/65-nonlatin.conf
/etc/fonts/conf.d/69-unifont.conf
/etc/fonts/conf.d/80-delicious.conf
/etc/fonts/conf.d/90-synthetic.conf
/etc/fonts/fonts.conf
/usr/lib64/libfontconfig.so.1
/usr/lib64/libfontconfig.so.1.6.2
/usr/share/fontconfig/conf.avail/10-autohint.conf
/usr/share/fontconfig/conf.avail/10-no-sub-pixel.conf
/usr/share/fontconfig/conf.avail/10-scale-bitmap-fonts.conf
/usr/share/fontconfig/conf.avail/10-sub-pixel-bgr.conf
/usr/share/fontconfig/conf.avail/10-sub-pixel-rgb.conf
/usr/share/fontconfig/conf.avail/10-sub-pixel-vbgr.conf
/usr/share/fontconfig/conf.avail/10-sub-pixel-vrgb.conf
/usr/share/fontconfig/conf.avail/10-unhinted.conf
/usr/share/fontconfig/conf.avail/11-lcdfilter-default.conf
/usr/share/fontconfig/conf.avail/11-lcdfilter-legacy.conf
/usr/share/fontconfig/conf.avail/11-lcdfilter-light.conf
/usr/share/fontconfig/conf.avail/20-unhint-small-vera.conf
/usr/share/fontconfig/conf.avail/25-unhint-nonlatin.conf
/usr/share/fontconfig/conf.avail/30-metric-aliases.conf
/usr/share/fontconfig/conf.avail/30-urw-aliases.conf
/usr/share/fontconfig/conf.avail/40-nonlatin.conf
/usr/share/fontconfig/conf.avail/45-latin.conf
/usr/share/fontconfig/conf.avail/49-sansserif.conf
/usr/share/fontconfig/conf.avail/50-user.conf
/usr/share/fontconfig/conf.avail/51-local.conf
/usr/share/fontconfig/conf.avail/60-latin.conf
/usr/share/fontconfig/conf.avail/65-fonts-persian.conf
/usr/share/fontconfig/conf.avail/65-khmer.conf
/usr/share/fontconfig/conf.avail/65-nonlatin.conf
/usr/share/fontconfig/conf.avail/69-unifont.conf
/usr/share/fontconfig/conf.avail/70-no-bitmaps.conf
/usr/share/fontconfig/conf.avail/70-yes-bitmaps.conf
/usr/share/fontconfig/conf.avail/80-delicious.conf
/usr/share/fontconfig/conf.avail/90-synthetic.conf

# fonts.dtd this font file is important(as I test), If lose this file, X strat will have a problem.
# We will add it here, not in bootscripts.
# but I find font.conf is not in this package, so add it in bootscripts.
/usr/share/xml/fontconfig/fonts.dtd
/var/cache/fontconfig
</install>
<post_action>
LD_LIBRARY_PATH=/usr/lib sudo chroot $ROOT /usr/bin/fc-cache -f
</post_action>
</package>

<package>
<install>
# xorg-x11-server-Xorg
/usr/bin/X
/usr/bin/Xorg
/usr/bin/cvt
/usr/bin/gtf
/etc/X11/xorg.conf.d
/usr/lib64/xorg/modules/input
/usr/lib64/xorg/modules/libexa.so
/usr/lib64/xorg/modules/libfb.so
/usr/lib64/xorg/modules/libfbdevhw.so
/usr/lib64/xorg/modules/libint10.so
/usr/lib64/xorg/modules/libshadow.so
/usr/lib64/xorg/modules/libshadowfb.so
/usr/lib64/xorg/modules/libvbe.so
/usr/lib64/xorg/modules/libvgahw.so
/usr/lib64/xorg/modules/libwfb.so
/usr/share/X11/xorg.conf.d
/usr/share/X11/xorg.conf.d/10-evdev.conf
/usr/share/X11/xorg.conf.d/10-quirks.conf
/usr/share/X11/rgb.txt
/usr/share/X11/XErrorDB

/bin/xkbcomp
/bin/xterm
</install>
</package>

<package>
<install>
# xorg-x11-xinit
/usr/bin/xinit

/usr/lib64/xorg/modules/drivers/vesa_drv.so
/usr/lib64/xorg/modules/drivers/fbdev_drv.so
/usr/lib64/xorg/modules/input/evdev_drv.so
/usr/lib64/xorg/modules/input/kbd_drv.so
/usr/lib64/xorg/modules/input/mouse_drv.so
/usr/lib64/xorg/modules/input/void_drv.so

/usr/bin/synclient
/usr/bin/syndaemon
/usr/lib/udev/rules.d/70-touchpad-quirks.rules
/usr/lib64/xorg/modules/input/synaptics_drv.so
/usr/share/X11/xorg.conf.d/50-synaptics.conf

/usr/bin/vmmouse_detect
/usr/lib/udev/rules.d/69-xorg-vmmouse.rules
/usr/lib64/xorg/modules/input/vmmouse_drv.so
/usr/share/X11/xorg.conf.d/50-vmmouse.conf

</install>
</package>

<package>
<install>
# wqy-microhei-fonts
/etc/fonts/conf.d/65-wqy-microhei.conf
/usr/share/fontconfig/conf.avail/65-wqy-microhei.conf
/usr/share/fonts/wqy-microhei
/usr/share/fonts/wqy-microhei/wqy-microhei.ttc
</install>
<post_action>
LD_LIBRARY_PATH=/usr/lib sudo chroot $ROOT /usr/bin/fc-cache /usr/share/fonts/wqy-microhei
LD_LIBRARY_PATH=/usr/lib sudo chroot $ROOT /usr/bin/mkfontdir /usr/share/fonts/wqy-microhei
LD_LIBRARY_PATH=/usr/lib sudo chroot $ROOT /usr/bin/mkfontscale /usr/share/fonts/wqy-microhei
</post_action>
</package>

# fix the xkbmap problem
<package>
<install>
# xkeyboard-config-1.8-3mgc25.noarch.rpm
@/usr/share/X11/xkb
</install>
</package>

</packages>
